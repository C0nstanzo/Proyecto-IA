\documentclass[letter, 10pt]{article}
\usepackage[latin1]{inputenc}
\usepackage[spanish]{babel}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage[dvips]{graphicx}
\usepackage{url}
\usepackage[top=3cm,bottom=3cm,left=3.5cm,right=3.5cm,footskip=1.5cm,headheight=1.5cm,headsep=.5cm,textheight=3cm]{geometry}



\begin{document}
\title{Inteligencia Artificial \\ \begin{Large}Estado del Arte: Problema Enhanced Profitable Tour Problem\end{Large}}
\author{Muryel Constanzo}
\date{\today}
\maketitle


%--------------------No borrar esta secci\'on--------------------------------%
\section*{Evaluaci\'on}

\begin{tabular}{ll}
Resumen (5\%): & \underline{\hspace{2cm}} \\
Introducci\'on (5\%):  & \underline{\hspace{2cm}} \\
Definici\'on del Problema (10\%):  & \underline{\hspace{2cm}} \\
Estado del Arte (35\%):  & \underline{\hspace{2cm}} \\
Modelo Matem\'atico (20\%): &  \underline{\hspace{2cm}}\\
Conclusiones (20\%): &  \underline{\hspace{2cm}}\\
Bibliograf\'ia (5\%): & \underline{\hspace{2cm}}\\
 &  \\
\textbf{Nota Final (100\%)}:   & \underline{\hspace{2cm}}
\end{tabular}
%---------------------------------------------------------------------------%
\vspace{2cm}


\begin{abstract}
    El documento presenta el Enhanced Protibale Tour Problem (EPTP), que busca la optimizaci\'on combinatoria. Perteneciendo a la familia de problemas de ruteo con beneficios, generaliza el TSP cl\'asico, tiene en consideraci\'on la selecci\'on \'optima de un subconjunto de localizaciones y costos para desplazamientos. Se presenta una revisi\'on de t\'ecnicas desarrolladas, clasific\'andolas en m\'etodos exactos, heur\'isticas y metaheur\'isticas, realizando un an\'alisis de fortalezas, limitaciones y aplicabilidad seg\'un el tama\~{n}o de las instancias. Se expone la formulaci\'on matem\'atica para el problema, incorporando la posibilidad de m\'ultiples usuarios, ventanas de tiempo y restricciones de capacidad. El an\'alisis concluye con la identificaci\'on de las l\'ineas de investigaci\'on m\'as prometedoras y proposici\'on de direcciones futuras para el desarrollo de algoritmos m\'as eficientes, aplicables a contextos reales. 
\end{abstract}

\section{Introducci\'on}
    El Enhanced Profitable Tour Problem (EPTP) representa un reto esencial en el \'ambito de la optimizaci\'on combinatoria y la inteligencia artificial, con aplicaciones directas en \'areas clave como la log\'istica de distribuci\'on, el enrutamiento de veh\'iculos y la organizaci\'on de itinerarios tur\'isticos. A diferencia del cl\'asico problema del vendedor viajero, en el que es necesario visitar todas las localidades, el EPTP incluye decisiones de selecci\'on que fijan qu\'e subconjunto de clientes visitar para maximizar la ganancia neta, equilibrando las ganancias de las visitas con los costos de desplazamiento. Esta naturaleza dual de selecci\'on y secuenciaci\'on eleva notablemente la complejidad computacional del problema, catalog\'andolo como NP-dif\'icil e impulsando la creaci\'on de m\'etodos especializados para su soluci\'on.
    
    El objetivo de este documento es ofrecer un an\'alisis completo del estado del arte en t\'ecnicas de resoluci\'on para el EPTP, se\~{n}alando los enfoques metodol\'ogicos m\'as significativos, sus fundamentos te\'oricos, as\'i como sus capacidades y restricciones. Se pretende proporcionar una perspectiva hol\'istica que facilite el entendimiento de la evoluci\'on hist\'orica del asunto, las t\'acticas de soluci\'on elaboradas y las tendencias que se han investigado actualmente. El aporte clave de este estudio se centra en la revisi\'on cr\'itica de las t\'ecnicas disponibles, la comparaci\'on de su efectividad seg\'un caracter\'isticas por caso y la formulaci\'on de directrices para las futuras investigaciones que puedan superar las limitaciones actuales, mejorando la aplicabilidad practica de las soluciones. 
    
    La raz\'on para llevar a cabo este estudio se basa en la creciente importancia del EPTP en entornos industriales donde los recursos son escasos y no es viable econ\'omicamente satisfacer todas las peticiones de servicio existentes. En la \'epoca de la optimizaci\'on de recursos y la sostenibilidad operativa, las organizaciones necesitan herramientas inform\'aticas que les ayuden a decidir qu\'e clientes atender y en qu\'e orden, maximizando la rentabilidad y cumpliendo con restricciones operativas como capacidades de veh\'iculos, ventanas de tiempo y l\'imites presupuestarios. La creaci\'on de algoritmos eficaces para el EPTP no solo tiene un inter\'es te\'orico en el \'ambito de la inform\'atica, sino que tambi\'en influye directamente en la efectividad operativa de diversas industrias, lo que valida la importancia de este an\'alisis en el campo de la inteligencia artificial aplicada.
    
    La organizaci\'on del trabajo es la siguiente: La Secci\'on 2 presenta formalmente el problema y su planteamiento, se da cuenta de las variables de decisi\'on, restricciones, objetivo a cumplir las variantes que se conocen; La Secci\'on 3 expone el estado de la cuesti\'on en el que se revisa la historia del problema y se clasifican los m\'etodos de soluci\'on en exactos, heur\'isticos y metaheur\'isticos, se analizan las distintas representaciones que existen, se presentan algoritmos que han mostrado ser muy efectivos y se discuten las tendencias actuales de investigaci\'on; La Secci\'on 4 presenta la formulaci\'on matem\'atica rigurosa del problema, se establecen par\'ametros, variables, la funci\'on objetivo y restricciones a cumplir y se caracteriza el espacio de b\'usqueda en el cual la meta de la investigaci\'on es la resoluci\'on de un determinado problema; por \'ultimo, La Secci\'on 5 sintetiza las conclusiones de la investigaci\'on, respuestas a interrogantes sobre si son unificables las t\'ecnicas o no, cu\'ales son sus similitudes y diferencias, si son aplicables o no a la PBC, las limitaciones del an\'alisis, cu\'ales son las estrategias que presentan buena esperanza final y cu\'al ser\'a el futuro concepto de investigaci\'on en el an\'alisis de la PBC.


\section{Definici\'on del Problema}
    El Enhanced Profitable Tour Problem (EPTP) corresponde a un problema de optimizaci\'on, siendo adem\'as una generalizaci\'on del Profitable Tour Problem (PTP) y una variante del Traveling Salesman Problem (TSP)~\cite{feillet2005traveling}. El modelo forma parte de la familia de problemas de ruteo de veh\'iculos con beneficios. 
    
    EPTP tiene como finalidad determinar una ruta que pase por un subconjunto de clientes, maximizando la diferencia entre el beneficio obtenido gracias a las visitas realizadas y el costo del trayecto, es decir, maximizando la ganancia obtenida~\cite{archetti2009capacitated}.

    \subsection{Naturaleza y Contexto}
        Se propone en las situaciones donde no es necesario ni obligatorio pasar por todas las localizaciones viables, lo que lo diferencia del cl\'asico TSP~\cite{dasari2021multi}. Cada localizaci\'on a visitar cuenta con un beneficio asociado, obtenible al haberse visitado dicha localizaci\'on; por otro lado, el desplazamiento entre las distintas localizaciones genera costos que son proporcionales a las distancias recorridas~\cite{zhang2017probabilistic}.

        El EPTP utiliza esta estructura b\'asica y la extiende, incorporando adem\'as restricciones adicionales y caracter\'isticas espec\'ificas que aumentan la complejidad y el realismo del modelo. Entre estas se consideran capacidades de localizaciones, ventanas de tiempo, m\'ultiples veh\'iculos o la incertidumbre sobre la disponibilidad de las localizaciones~\cite{archetti2009capacitated}.

    \subsection{Dificultades Asociadas al Problema}
        EPTP pertenece a la clase de problemas NP-dif\'iciles, esto implica que no hay algoritmos conocidos que puedan resolver todas las instancias del trayecto en tiempo polinomial~\cite{feillet2005traveling}.

        Debido a la naturaleza combinatoria del problema, donde la cantidad de soluciones factibles para su resoluci\'on crece de forma exponencial conforme aumenta el n\'umero de localizaciones disponibles, la complejidad computacional tambi\'en se intensifica. Adem\'as la necesidad de mantener balanceado simult\'aneamente dos objetivos contrapuestos, es decir, la maximizaci\'on de beneficios por visitas mientras se minimizan los costos de desplazamiento, genera un espacio de b\'usqueda complejo, con m\'ultiples \'optimos locales, que no hacen m\'as que dificultar la identificaci\'on de una soluci\'on \'optima global~\cite{dasari2021multi}.

    \subsection{Variables del Problema}
        Para EPTP las variables de decisi\'on incluyen estructuraci\'on en dos niveles, complementarios entre ellos. 

        Primero se tienen las variables de selecci\'on, que determinan las localizaciones que ser\'an incluidas en el tour y cu\'ales ser\'an omitidas. En segundo lugar est\'an las variables de secuenciamiento, aquellas que establecen el orden espec\'ifico en el que las localizaciones ser\'an visitadas~\cite{archetti2009capacitated}.

        Entre los par\'arametros del problema se incluyen:
        \begin{itemize}
            \item El conjunto de localizaciones posibles, con cada una caracterizada por su beneficio individual.
            \item La matriz de costos de desplazamiento entre cada par de puntos de localizaci\'on.
            \item Los puntos de partida y retorno del viaje.
        \end{itemize}

        Dependiendo de la variante espec\'ifica del problema, tambi\'en se encuentran las capacidades de carga, l\'imites temporales, n\'umero de veh\'iculos disponibles o incluso las probabilidades de disponibilidad de cada localizaci\'on~\cite{sun2018time}.

     \subsection{Restricciones del Problema}
        Las restricciones del problema aseguran la factibilidad de las soluciones. La restricci\'on principal establece que el viaje debe formar un ciclo cerrado, de forma que el viaje tenga su inicio y fin en la misma localizaci\'on~\cite{feillet2005traveling}.

        Cada localizaci\'on puede ser visitada como m\'aximo una vez a lo largo de todo el recorrido, evitando repeticiones innecesarias. En los casos en los que se consideran ventanas de tiempo, las visitas deben ser realizadas dentro de los intervalos temporales espec\'ificos que se encuentran asociados a cada localizacic\'on de forma espec\'ifica y en versiones que cuenten con m\'ultiples veh\'iculos, se imponen restricciones respecto a la cantidad de viajes que se pueden realizar de forma simult\'anea~\cite{zhang2017probabilistic}.

    \subsection{Objetivos del Problema}
        El objetivo primordial del EPTP es la maximizaci\'on de la ganancia total neta, que se encuentra definida como la diferencia entre los beneficios totales que fueron recolectados al visitar alguna localidad seleccionada y los costos totales incurridos en el desplazamiento durante el viaje~\cite{feillet2005traveling}. 

        La funci\'on objetivo mencionada refleja la decisi\'on econ\'omica, donde se debe buscar un equilibrio \'optimo entre la expansi\'on del viaje para obtener m\'as beneficios y el mantenerlo compacto para as\'i minimizar los costos de transporte~\cite{dasari2021multi}. Para algunas formulaciones de este problema se pueden tener objetivos secundarios o incluso criterios adicionales, tales como:
        \begin{itemize}
            \item Minimizar el tiempo total del viaje.
            \item Balancear la carga entre m\'ultiples veh\'iculos.
            \item Maximizar la cantidad de localizaciones atendidas, sujeto a restricciones de ganancia.
        \end{itemize}

    \subsection{Variantes Conocidas del Problema}
        El EPTP se deriva y relaciona con m\'ultplies variantes ya documentadas.
        \begin{itemize}
            \item \textbf{Capacitated Profitable Tour Problem (CPTP):}incluye restricciones de capacidad vehicular, en donde cada localizaci\'on posee adem\'as una demanda espec\'ifica y el veh\'iculo tiene una capacidad limitada~\cite{archetti2009capacitated}.
            \item \textbf{Profitable Arc Tour Problem:} trabaja con la asociaci\'on de los beneficios a los arcos de la red en lugar de los v\'ertices, lo que modifica considerablemente la estructura conocida del modelo.
            \item \textbf{Team Orienteering Problem (TOP):} considera m\'ultiples veh\'iculos que trabajan bajo un l\'imite de tiempo, buscando maximizar el beneficio total recolectado sujeto a dichas restricciones temporales~\cite{archetti2009capacitated}.
            \item \textbf{Probabilistic Profitable Tour Problem:} agrega el factor de incertidumbre estoc\'astica a la disponibilidad de las localizaciones, de forma que requiere la consideraci\'on de las probabilidades de \'exito en las visitas~\cite{zhang2017probabilistic}.
            \item \textbf{Split Delivery Capacitated Profitable Tour Problem:} permite que la misma localizaci\'on sea visitada por m\'ultiples veh\'iculos para satisfacer la demanda establecida.
            \item \textbf{Time-Dependent Capacitated Profitable Tour Problem with Time Windows:} considera la integraci\'on de ventanas temporales y costos de viaje que dependen del tiempo, lo que refleja condiciones de tr\'afico variable~\cite{sun2018time}.
        \end{itemize}


\section{Estado del Arte}
    El problema Profitable Tour Problem nace como la generalizaci\'on natural del problema cl\'asico Traveling Salesman Problem (TSP), cuyas primeras formulaciones matem\'aticas existen alrededor del 1930~\cite{lawler1985traveling}. Sin embargo, el concepto formal de los problemas de ruteo con selecci\'on de v\'ertices y beneficios asociados no surge sino hasta la d\'ecada de 1980, cuando los investigadores comenzaron a	estudiar situaciones en las que no era econ\'omicamente viable visitar todas las localizaciones disponibles~\cite{balas1989prize}.
    
    EPTP fue consolidado formalmente a la literatura acad\'emica alrededor del 1990, cuando se introdujo el Prize-Collecting Traveling Salesman Problem~\cite{dell1995prize}, problema en el que se establecieron las bases te\'oricas para esta gran familia de problemas. 
    
    De forma paralela, se proporcion\'o una taxonom\'ia comprehensiva~\cite{feillet2005traveling}, que clasifico las diversas variables en problemas del tipo del vendedor viajero con beneficios, de esta forma se distingui\'o entre aquellos con restricciones de longitud m\'axima (Orienteering Problem) y aquellos que no contaban con dichas restricciones pero si con costos de desplazamiento (Profitable Tour Problem).
    
    El surgimiento del modelo PTP est\'a directamente vinculado con las aplicaciones pr\'acticas en log\'istica de distribuci\'on, planificaci\'on tur\'istica y ruteo de veh\'iculos, donde la toma de decisiones es simult\'anea y el secuenciamiento resultaba cr\'itico para la optimizaci\'on de recursos~\cite{archetti2009capacitated}. La evoluci\'on hacia las variantes \textit{Enhanced} o versiones extendidas del problema ha sido impulsada por la necesidad de modelar las caracter\'isticas extras que se encuentran en escenarios reales, como lo son las capacidades vehiculares limitadas, las ventanas temporales de atenci\'on, m\'ultiples agentes o incluso la incertidumbre en la disponibilidad de localidades~\cite{sun2018time}.

    \subsection{M\'etodos de Soluci\'on Desarrolados}
        La resoluci\'on del modelo EPTP ha sido abordada en tres categor\'ias principales, las t\'ecnicas exactas, algoritmos heur\'isticos constructivos y las metaheur\'isticas de b\'usqueda local.

        \subsubsection{M\'etodos Exactos}
            El tipo de m\'etodo exacto asegura la obtenci\'on de soluciones optimas aun cuando enfrentan limitaciones computacionales significativas debido a la naturaleza NP-dif\'icil del problema inicial. La programaci\'on lineal entera da un enfoque m\'as fundamental, en donde el problema se formula mediante el uso de variables binarias, estas variables indican la selecci\'on de v\'ertices y arcos, estando sujetas a restricciones de conectividad, adem\'as de la capacidad de eliminaci\'on de subciclos~\cite{archetti2009capacitated}. Las formulaciones con base en los flujos y en conjuntos de cortes m\'inimos tienden a ser particularmente efectivas para las instancias cuyo tama\~{n}o es moderado~\cite{feillet2005traveling}.
            
            Se tiene tambi\'en que los algoritmos de ramificaci\'on y acotamiento o branch-and-bound han sido utilizados exitosamente, al incorporar t\'ecnicas de relajaci\'on lineal, de forma que obtienen cotas superiores e inferiores, permitiendo la poda del \'arbol de b\'usqueda~\cite{dell1995prize}. Por otro lado, enfoques m\'as sofisticados como la ramificaci\'on de corte y precio o branch-cut-and-price, han permitido la resoluci\'on de instancias con hasta 500 v\'ertices, debido a que combinan generaci\'on din\'amica de columnas con planos de corte validos~\cite{archetti2009capacitated}. 

        \subsubsection{Heur\'isticas Constructivas}
            Las heur\'isticas constructivas generan soluciones factibles a trav\'es de procedimientos determin\'isticos, agregando iterativamente elementos al viaje. La heur\'istica del vecino m\'as cercano selecciona en cada paso el v\'ertice no visitado que maximiza la relaci\'on entre el beneficio del v\'ertice y el costo asociado al agregarlo al tour~\cite{feillet2005traveling}. Este tipo de enfoque, conocido como greedy, otorga soluciones iniciales de una calidad aceptable, considerando bajo costo computacional.
            
            Por otro lado, las heur\'isticas de inserci\'on realizan la evaluaci\'on sistem\'aticamente de la incorporaci\'on de v\'ertices en posiciones espec\'ificas, eligiendo siempre aquellas que maximicen el incremento neto de la ganancia~\cite{archetti2009capacitated}. Algunas variantes m\'as sofisticadas tienen en cuenta criterios de inserci\'on que buscan el balance de la ganancia inmediata con el impacto que generan las futuras inserciones, evitando la toma de decisiones miopes que puedan conducir a \'optimos locales de baja calidad. 

        \subsubsection{Metaheur\'isiticas}
            Las metaheur\'isticas dan un enfoque de mayor \'exitos para las instancias de gran escala del EPTP, ya que ofrecen un equilibrio favorable entre la calidad de la soluci\'on y la eficiencia computacional. La b\'usqueda tab\'u, o Tabu Search, ha demostrado resultados destacables, debido al empleo de estructuras de memoria tanto a corto como a largo plazo, guiando la exploraci\'on del espacio de soluciones~\cite{taillard1997tabu}. Los movimientos en la vecindad t\'ipicamente empleados vienen con operadores de intercambio de v\'ertices (swap), reubicaci\'on de v\'ertices (relocate), inversi\'on de segmentos (2-opt) y operadores de selecci\'on que agregan o eliminan los v\'ertices del viaje~\cite{archetti2009capacitated}.
            
            Los algoritmos gen\'eticos o GA, codifican sus soluciones mediante la permutaci\'on, lo que representa el orden de visita, incorporando operadores de cruce que se especializan en un tema, como el order crossover (OX) y el partially mapped crossover (PMX), que preservan caracter\'isticas estructurales de los viajes~\cite{zhang2017probabilistic} La mutaci\'on es implementada mediante los operadores de perturbaci\'on, que modifican la secuencia y la selecci\'on de v\'ertices por igual~\cite{dasari2021multi}.

    \subsection{Representaciones del Problema}
        Los algoritmos de soluci\'on tienen una efectividad fuertemente influenciada por la representaci\'on que fue empleada para la codificaci\'on de las soluciones del EPTP.
        
        \subsubsection{Representaci\'on por Permutaciones}
            La representaci\'on por permutaciones codifica la soluci\'on como si se tratase de una secuencia ordenada de identificadores para los v\'ertices, en donde la posici\'on que tienen en la secuencia determina directamente el orden de visita~\cite{dasari2021multi}. Esta representaci\'on es natural y termina siendo computacionalmente eficiente, permitiendo la aplicaci\'on directa de los operadores de cruce. Aun cuando presenta limitaciones a la hora de modelar expl\'icitamente la decisi\'on respecto a la selecci\'on de v\'ertices, ya que requiere mecanismos adicionales que determinan qu\'e v\'ertices son visitados realmente. 
        \subsubsection{Representaci\'on Binaria}
            En la representaci\'on binaria se emplea un vector de variables binarias, en donde cada componente indica si el v\'ertice en espec\'ifico ser\'a incluido en el viaje o no, complementado con la informaci\'on de secuenciamiento~\cite{archetti2009capacitated}. Esta forma de codificar facilita la modelaci\'on de restricciones de capacitas, permitiendo la implementaci\'on de operadores gen\'eticos que modifican la composici\'on. 
            
            Su principal desventaja radica en que necesita de procedimientos de reparaci\'on cuando los operadores generan soluciones infactibles. 
        \subsubsection{Representaci\'on por Lista de Arcos}
            Esta forma de representar muestra una soluci\'on como el conjunto de arcos, siendo adecuada para formular programaci\'on matem\'atica y algoritmos de colonia de hormigas~\cite{ke2008ants}. La representaci\'on como tal facilita la verificaci\'on de la factibilidad mediante el an\'alisis de conectividad del grafo, aunque produce un incremento en la complejidad de implementaci\'on para ciertos operadores de b\'usqueda local.
            
            Se ha demostrado que representar por permutaciones es m\'as efectivo en la pr\'actica, principalmente cuando se combinan procedimientos de decodificaci\'on inteligentes que determinan de forma din\'amica la selecci\'on optima de v\'ertices dada una secuencia especifica~\cite{dasari2021multi}.

    \subsection{Algoritmos m\'as Eficaces}
        Al realizar un an\'alisis comparativo de resultados se identifica claramente un enfoque que ha demostrado mayor efectividad.
        
        Para aquellas instancias que tienen un tama\~{n}o peque\~{n}o a moderado, los m\'etodos basados en Branch-cut-and-price representan el estado del arte, debido a que son capaces de garantizar optimalidad en los tiempos computacionales~\cite{archetti2009capacitated}. La implementaci\'on de Archetti et al.~\cite{archetti2009capacitated} para el Capacitated Profitable Tour Problem termino resolviendo a optimalidad instancias con hasta 150 v\'ertices en menos de una hora. 
        
        Para instancias con una escala mucho mayor, los algoritmos h\'ibridos, que combinan metaheur\'isticas poblacionales con b\'usqueda local intensiva, demostraron ser superiores. Se desarrollo un algoritmo multi-inicio (Multi-Start Heuristic)~\cite{dasari2021multi} que hace uso de heur\'isticas aleatorias, seguida de una b\'usqueda tab\'u, dando lugar a soluciones con espacios de optimalidad inferiores al 2\% para las instancias con alrededor de 500 v\'ertices.~\cite{zhang2017probabilistic} propuso un algoritmo gen\'etico hibrido con b\'usqueda local basada en Lin-Kernighan para el PTP, lo que supero en calidad a las metaheur\'isticas puras en el 95\% de las instancias probadas~\cite{zhang2017probabilistic}.
        
        Los algoritmos de optimizaci\'on por enjambre PSO adaptados al problema discreto han mostrado resultados competitivos, principalmente cuando se hacen h\'ibridos en conjunto con b\'usqueda local~\cite{sun2018time}. La VNS por otro lado, surge como un enfoque m\'as robusto, empleando estructuras de complejidad creciente que buscan un escape sistem\'atico de \'optimos locales~\cite{archetti2009capacitated}.
        
    \subsection{Tendencias Actuales}
        La actual investigaci\'on del modelo tratado se caracteriza por cuatro tendencias principales:
        \subsubsection{Integraci\'on de Aprendizaje Autom\'atico}
            Tendencia que incorpora t\'ecnicas de aprendizaje autom\'atico con el fin de mejorar la funci\'on de los algoritmos de optimizaci\'on. Cuenta con enfoques reinforcement learning, siendo estos explorados para entrenar pol\'iticas de decisi\'on. 
        \subsubsection{Optimizaci\'on Robusta y Estoc\'astica}
            Reconocen varios escenarios reales que involucran la duda en par\'ametros como beneficios, costos o disponibilidad de v\'ertices. La investigaci\'on m\'as reciente se enfoca en las formulaciones del problema~\cite{zhang2017probabilistic}, buscando soluciones que mantengan factibilidad y calidad aceptable bajo diversos escenarios. 
        \subsubsection{Paralelizaci\'on y Computaci\'on de Alto Rendimiento}
            El crecimiento de la disponibilidad de recursos computacionales motiva el desarrollo de implementaciones paralelas para el EPTP. Los algoritmos en paralelo utilizan m\'ultiples poblaciones que tienen evoluci\'on constante, contando adem\'as con una migraci\'on peri\'odica de individuos, lo que mejora la diversidad y acelera la convergencia~\cite{dasari2021multi}. 
            
            La paralelizaci\'on de evaluaciones para las vecindades en b\'usquedas de car\'acter local permite la exploraci\'on de regiones de mayor amplitud en el espacio de soluciones en tiempos comparables a implementaciones secuenciales. 
        \subsubsection{Problemas Multiobjetivo}
            La formulaci\'on multiobjetivo del problema, donde se busca optimizar de forma simult\'anea varios criterios, como la ganancia neta, longitud del viaje, balance de la carga o equidad, ha sido foco de atenci\'on~\cite{jozefowiez2008multi}.
            
            Los algoritmos multiobjetivo como NSGA-II y MOEA/D se adaptan al problema en cuesti\'on, lo que genera aproximaciones al frete de Pareto, lo que ofrece m\'ultiples opciones de compromiso entre las que se puede decidir. Esta perspectiva termina siendo particularmente importante en aquellas aplicaciones donde los diferentes stakeholders priorizan objetivos distintos. 
            
            Las limitaciones de t\'ecnicas actuales cuentan con la dificultad de escalar a instancias con cerca de miles de v\'ertices, manteniendo las garant\'ias de calidad, la sensibilidad de las metaheur\'isticas a la configuraci\'on de par\'ametros y la ausencia de m\'etodos sistem\'aticos para la explotaci\'on de informaci\'on hist\'orica de problemas previamente resueltos. 
            
            Las futuras investigaciones se orientan al desarrollo de algoritmos que tengan una mejor capacidad de adaptaci\'on, la integraci\'on efectiva de conocimientos experto del dominio y la consideraci\'on de aquellos aspectos din\'amicos en los que le problema evoluciona de forma temporal requiriendo una re-optimizaci\'on continua. 
        
    
    
\section{Modelo Matem\'atico}
    Se presenta la formulaci\'on matem\'atica para el Enhanced Profitable Tour Problem con m\'ultiples usuarios y la existencia de ventanas de tiempo, utilizando como base las formulaciones cl\'asicas del problema de ruteo con beneficios~\cite{archetti2009capacitated, sun2018time}, siendo extendida para la incorporaci\'on de las caracter\'isticas espec\'ificas del problema en estudio. 
    
    \subsection{Par\'ametros y Conjuntos}
        El problema se define como un grafo dirigido $G = (V, A)$ donde $V = \{1, 2, \ldots, n\}$ representa el conjunto de $n$ nodos disponibles, y $A \subseteq V \times V$ define el conjunto de arcos dirigidos que conectan los pares de nodos. 
    
        El nodo $1 \in V$ se asigna como el punto de inicio y termino del viaje, consider\'andose adem\'as un conjunto $U = \{1, 2, \ldots, m\}$  de $m$ usuarios, donde cada uno tiene sus preferencias y restricciones temporales espec\'ificas. 
    
        Los par\'ametros temporales del problema incluyen $t_i \geq 0$ para todo $i \in V$, que representa el tiempo de servicio que requiere el nodo $i$, adem\'as se define $d_{ij} \geq 0$ para todo $(i,j) \in A$, que indica el tiempo de viaje que hay desde el nodo $i$ hasta el nodo $j$. 
    
        Cada usuario $k \in U$ dispone de un tiempo total $T_k > 0$ para completar su tour. Adem\'as, para cada nodo $i \in V$ se tiene una ventana de tiempo $[e_i, l_i]$, donde $e_i \geq 0$ denota el tiempo de apertura m\'as temprano y $l_i > e_i$ el tiempo m\'as tard\'io de cierre en el que el nodo esta disponible para ser visitado. 
    
        Los par\'ametros de valorizaci\'on muestran las preferencias de los usuarios. El par\'ametro $s_{ik} \in \mathbb{R}$ indica la valorizaci\'on que el usuario $k$ asigna al nodo $i$, mostrando adem\'as el beneficio recibido por la visita a dicha localizaci\'on. De la misma forma $c_{ijk} \in \mathbb{R}$ muestra la valorizaci\'on, en el mayor de los casos negativa ya que representa a un costo, que el usuario $k$ asocia al arco $(i, j)$, de forma que se captura el costo de desplazamiento entre ambos nodos. 
    
    \subsection{Variables de Decisi\'on}
        Para el modelo se presentan dos tipos de variables de decisi\'on binarias que caracterizan por completo la soluci\'on factible, las variables de decisi\'on principales son: 
    
        \begin{align}
        x_{ijk} &\in \{0,1\} \quad \forall (i,j) \in A, \, k \in U \\
        y_{ik} &\in \{0,1\} \quad \forall i \in V, \, k \in U
        \end{align}
    
        La variable $x_{ijk}$ toma el valor $1$ si el usuario $k$ utiliza el arco $(i,j)$ en su viaje, y $0$ en caso contrario. La variable muestra simult\'aneamente las decisiones de secuenciamiento u orden de visita y asignaci\'on, es decir, qu\'e arcos forman parte del recorrido.
        
        La variable $y_{ik}$ toma el valor $1$ si el usuario $k$ visita el nodo $i$, y $0$ si el nodo es omitido del camino, mostrando la decisi\'on de selecci\'on de los v\'ertices, un aspecto que lo hace diferente respecto al TSP cl\'asico. 
        
        Adem\'as, se incluyen variables continuas que hace de auxiliares para el manejo de las ventanas de tiempo y la eliminaci\'on de sub-viajes:
        
        \begin{align}
        w_{ik} &\geq 0 \quad \forall i \in V, \, k \in U \\
        u_{ik} &\geq 0 \quad \forall i \in V \setminus \{1\}, \, k \in U
        \end{align}
        
        La variable $w_{ik}$ representa el tiempo en el cual el individuo $k$ inicia el servicio en el nodo $i$, permitiendo el modelamiento de las restricciones de ventanas de tiempo y de la propagaci\'on temporal a lo largo del tour. 
        
        La variable $u_{ik}$ indica el \'indice de posici\'on utilizado en las restricciones de eliminaci\'on de sub-viajes~\cite{miller1960integer}, tomando valores crecientes conforme se avanza en la secuencia de visita.
        
    \subsection{Funci\'on Objetivo}
        El problema como tal busca la maximizaci\'on de la valorizaci\'on neta total, agregando sobre todos los usuarios: 
        
        \begin{equation}
        \max Z = \sum_{k \in U} \left( \sum_{i \in V} s_{ik} \cdot y_{ik} + \sum_{(i,j) \in A} c_{ijk} \cdot x_{ijk} \right)
        \end{equation}
        
        La funci\'on objetivo suma dos componentes:
        \begin{itemize}
            \item El primer t\'ermino $\sum_{i \in V} s_{ik} \cdot y_{ik}$ cuantifica el beneficio total obtenido por el usuario $k$ al visitar el nodo seleccionado, en donde cada nodo ($y_{ik} = 1$) contribuye a la valorizaci\'on especifica $s_{ik}$.
            \item El segundo t\'ermino $\sum_{(i,j) \in A} c_{ijk} \cdot x_{ijk}$ indica el costo total de desplazamiento incurrido, de esta forma, carda arco utilizado resta su costo asociado $c_{ijk}$ (t\'ipicamente negativo).
        \end{itemize}
        La sumatoria externa agrega las valorizaciones netas individuales de todos los usuarios, obteniendo as\'i la valorizaci\'on global del sistema.
        
    \subsection{Restricciones}
        El modelo incorpora las siguientes restricciones que ayudan a garantizar la factibilidad de las soluciones.
        
        \subsubsection{Restricciones de Inicio y T\'ermino}
        
            \begin{align}
            \sum_{j \in V: (1,j) \in A} x_{1jk} &= 1 \quad \forall k \in U \label{eq:start}\\
            \sum_{i \in V: (i,1) \in A} x_{i1k} &= 1 \quad \forall k \in U \label{eq:end}\\
            y_{1k} &= 1 \quad \forall k \in U \label{eq:depot_visit}
            \end{align}
            
            Las restricciones (\ref{eq:start}) y (\ref{eq:end}) garantizan que cada usuario $k$ inicie saliendo exactamente de un arco desde el nodo 1 y tanga su retorno exactamente al mismo nodo.
            
            La restricci\'on (\ref{eq:depot_visit}) establece que el inicio es obligatoriamente visitado por todos los usuarios, de esta forma se asegura que cada viaje forme un ciclo cerrado con origen y destino en el nodo 1. 
            
        \subsubsection{Restricciones de Conservaci\'on de Flujo}
        
            \begin{equation}
            \sum_{j \in V: (i,j) \in A} x_{ijk} = \sum_{j \in V: (j,i) \in A} x_{jik} = y_{ik} \quad \forall i \in V, \, k \in U \label{eq:flow}
            \end{equation}
            
            La restricci\'on (\ref{eq:flow}) indica la conservaci\'on de flujo en cada nodo para cada usuario. As\'i, si el nodo $i$ es visitado por el usuario $k$ ($y_{ik} = 1$), entonces debe existir exactamente un arco entrante y exactamente un arco saliente.
            
            Por otro lado, si el nodo no es visitado ($y_{ik} = 0$), entonces no debe existir ning\'un arco entrante ni saliente asociado al usuario $k$ en ese nodo. 
            Con estas restricciones se busca garantizar la conectividad del viaje y la consistencia entre las variables de elecci\'on y las de secuenciamiento.
            
        \subsubsection{Restricciones de Visita \'unica}
        
            \begin{equation}
            \sum_{k \in U} y_{ik} \leq 1 \quad \forall i \in V \setminus \{1\} \label{eq:unique_visit}
            \end{equation}
            
            La restricci\'on (\ref{eq:unique_visit}) establece que cada uno de los nodos puede ser visitado por a lo m\'as un usuario. Esta restricci\'on en particular modela aquellas situaciones en las que los recursos para cada localizaci\'on son limitados o en donde m\'ultiples visitas no son permitidas. 
            
            El nodo inicial se excluye debido que todos los usuarios deben obligatoriamente visitarlo como punto de inicio y de finalizaci\'on. 
            
        \subsubsection{Restricciones de Ventanas de Tiempo}
            
            \begin{align}
            w_{ik} &\geq e_i \cdot y_{ik} \quad \forall i \in V, \, k \in U \label{eq:tw_early}\\
            w_{ik} &\leq l_i \cdot y_{ik} + M(1 - y_{ik}) \quad \forall i \in V, \, k \in U \label{eq:tw_late}
            \end{align}
            
            Las restricciones (\ref{eq:tw_early}) y (\ref{eq:tw_late}) establecen que, si el usuario $k$ visita el nodo $i$ ($y_{ik} = 1$), el inicio del servicio $w_{ik}$ debe realizarse dentro de la ventana de tiempo $[e_i, l_i]$ que corresponde al nodo. En caso de que el usuario llegue antes de $e_i$, este debe esperar hasta ese momento para comenzar. Por el contrario, si ocurre despu\'es de $l_i$, el nodo no podr\'a ser visitado. 
            
            El par\'ametro $M$ presente en (\ref{eq:tw_late}) corresponde a una constante suficientemente grande (big-M), utilizada para desactivar la restricci\'on cuando el nodo no es visitado ($y_{ik} = 0$).
            
        \subsubsection{Restricciones de Propagaci\'on Temporal}
            
            \begin{equation}
            w_{jk} \geq w_{ik} + t_i + d_{ij} - M(1 - x_{ijk}) \quad \forall (i,j) \in A, \, k \in U \label{eq:time_prop}
            \end{equation}
            
            La restricci\'on (\ref{eq:time_prop}) modela la propagaci\'on temporal a lo largo del viaje. Si el viajero $k$ utiliza el arco $(i,j)$ ($x_{ijk} = 1$), entonces el tiempo de inicio en el nodo $j$ debe ser al menos igual al tiempo de inicio en el nodo $i$, m\'as el tiempo de servicio en $i$ ($t_i$), m\'as el tiempo de viaje de $i$ a $j$ ($d_{ij}$). 
            
            Cuando el arco no es utilizado ($x_{ijk} = 0$), la constante $M$ no utiliza la restricci\'on, de esta forma se pueden capturar los tiempos de espera impl\'icitos en casos de llegadas antes de la apertura del nodo.
            
        \subsubsection{Restricci\'on de Duraci\'on Total del Tour}
            
            \begin{equation}
            w_{1k} + \sum_{i \in V} t_i \cdot y_{ik} + \sum_{(i,j) \in A} d_{ij} \cdot x_{ijk} \leq T_k \quad \forall k \in U \label{eq:duration}
            \end{equation}
            
            La restricci\'on (\ref{eq:duration}) indica que el tiempo total utilizado por el usuario $k$ no puede superar su l\'imite disponible $T_k$. Este tiempo total es obtenido considerando la suma del instante de retorno al dep\'osito ($w_{1k}$, que representa el inicio del servicio en el dep\'osito al finalizar el recorrido), junto con el tiempo total de servicio en los nodos visitados y el tiempo total de viaje en los arcos recorridos. Con esta restricci\'on se busca representar el presupuesto temporal del usuario y acotar la duraci\'on m\'axima de su recorrido.
            
        \subsubsection{Restricciones de Eliminaci\'on de Subtours}
            
            \begin{align}
            u_{ik} - u_{jk} + n \cdot x_{ijk} &\leq n - 1 \quad \forall i,j \in V \setminus \{1\}, \, i \neq j, \, k \in U \label{eq:mtz}\\
            1 \leq u_{ik} &\leq n \quad \forall i \in V \setminus \{1\}, \, k \in U \label{eq:mtz_bounds}
            \end{align}
            
            Las restricciones (\ref{eq:mtz}) y (\ref{eq:mtz_bounds}) corresponden a las desigualdades de Miller-Tucker-Zemlin~\cite{miller1960integer}, utilizadas para eliminar los viajes que no est\'en conectados con el nodo inicial. Las variables $u_{ik}$ representan las posiciones aproximadas de los nodos en la secuencia de visita del usuario $k$. En caso de que el arco $(i,j)$ sea utilizado ($x_{ijk} = 1$), se cumple que $u_{jk} \geq u_{ik} + 1$, garantizando que las posiciones aumenten de forma estrictamente creciente a lo largo del recorrido. Esta formulaci\'on, si bien no es la m\'as fuerte desde el punto de vista de la relajaci\'on lineal, presenta una estructura compacta y es ampliamente empleada en problemas de ruteo~\cite{desrochers1991improvements}.

    \subsection{Espacio de B\'usqueda}
    
        El espacio de b\'usqueda del problema est\'a conformado por todas las combinaciones posibles de valores para las variables de decisi\'on que cumplen con las restricciones definidas en el modelo. Una soluci\'on factible $\mathbf{s} = (\mathbf{x}, \mathbf{y}, \mathbf{w}, \mathbf{u})$ pertenece al conjunto de b\'usqueda $\mathcal{S}$ \'unicamente si satisface las restricciones (\ref{eq:start})-(\ref{eq:mtz_bounds}).
        
        El tama\~{n}o de este espacio crece de forma exponencial con respecto al n\'umero de nodos y usuarios. Para cada usuario $k$, la cantidad de tours posibles desde el dep\'osito que consideran exactamente $p$ nodos (sin incluir el dep\'osito) est\'a acotada por $\binom{n-1}{p} \cdot p!$, correspondiente a todas las formas de seleccionar y ordenar esos nodos. Si se consideran todos los valores posibles de $p$ y la independencia entre las decisiones de distintos usuarios (respetando la restricci\'on de visita \'unica), el tama\~{n}o total del espacio aumenta factorialmente, evidenciando la alta complejidad computacional del problema~\cite{feillet2005traveling}.
        
        A pesar de que las restricciones de ventanas de tiempo y duraci\'on limitan de manera considerable el conjunto de soluciones factibles, el problema contin\'ua siendo NP-dif\'icil incluso bajo estas condiciones adicionales~\cite{sun2018time}. Adem\'as, la estructura del espacio se caracteriza por la presencia de m\'ultiples \'optimos locales y regiones desconectadas debido a las restricciones temporales, lo que plantea un desaf\'io importante para el dise\~{n}o y desempe\~{n}o de m\'etodos de optimizaci\'on exactos y aproximados.
                    
    

\section{Conclusiones}
    El estudio realizado permite la identificaci\'on de t\'ecnicas de soluci\'on para el EPTP, ya que si bien comparte un marco te\'orico com\'un del TSP cl\'asico~\cite{lawler1985traveling}, no encuentra la soluci\'on al mismo exacto problema. Se tienen diferencias considerables en las variantes que abordan los problemas, mientras que algunos enfoques se centran en el problema b\'asico sin las restricciones adicionales~\cite{feillet2005traveling}, otros incorporan capacidades vehiculares~\cite{archetti2009capacitated}, ventanas de tiempo~\cite{sun2018time} o incluso incertidumbre estoc\'astica en la disponibilidad de los nodos~~\cite{zhang2017probabilistic}. 
    
    Esta diversidad en las restricciones de los problemas refleja la necesidad de adaptaci\'on que se da para las formulaciones en contextos aplicados espec\'ificos, donde las caracter\'isticas del mundo exigen extensiones del modelo base. 
    
    En tanto a las similitudes y diferencias entre las t\'ecnicas que ya existen, se identifican que todas comparten la estructura dual de decisi\'on, se deben decidir v\'ertices y secuenciamiento de visitas. Los m\'etodos exactos se basan en programaci\'on entera~\cite{dell1995prize} y Branch-Cut-And-Price~\cite{archetti2009capacitated} para aquellas instancias que tienen m\'as de 500 v\'ertices. 
    
    Por otro lado las metaheur\'isticas como la b\'usqueda tab\'u~\cite{taillard1997tabu}, algoritmos gen\'eticos~\cite{dasari2021multi} y optimizaci\'on por colonia de hormigas~\cite{ke2008ants}, hacen un sacrificio en las garant\'ias de optimalidad a cambio de una mayor eficiencia computacional. La principal diferencia metodol\'ogica radica en el balance entre la calidad de la soluci\'on y el tiempo de c\'omputo, mientras que los enfoques de car\'acter hibrido que combinan metaheur\'isticas con b\'usqueda local han dado a demostrar que son superiores para aquellas instancias de gran escala ~\cite{dasari2021multi}, los m\'etodos exactos mantienen mayor relevancia para instancias moderadas donde la optimalidad es cr\'itica. 
    \begin{itemize}
        \item Las t\'ecnicas se ven limitadas debido a:
        \item La sensibilidad de las metaheur\'isticas por la configuraci\'on de los par\'ametros.
        \item La dificultad para escalar a instancias con miles de v\'ertices manteniendo la calidad.
        \item La ausencia de m\'etodos sistem\'aticos que exploten la informaci\'on hist\'orica de problemas que ya han sido resueltos.
    \end{itemize}
    
    Adem\'as se tienen las formulaciones estoc\'asticas~~\cite{zhang2017probabilistic} que aunque son m\'as realistas, incrementan sustancialmente la complejidad computacional y requieren informaci\'on probabilista que no siempre est\'a disponible en aplicaciones pr\'acticas. 
    
    Aquellas t\'ecnicas que son m\'as prometedoras son aquellos algoritmos h\'ibridos que integran m\'ultiples paradigmas de optimizaci\'on. En particular, la combinaci\'on de heur\'isticas multi-inicio con b\'usqueda tab\'u, esta combinaci\'on ha logrado brechas inferiores al 2\% en cuando a optimalidad respecta, considerando instancias de 500 v\'ertices~\cite{dasari2021multi}. As\'i mismo la integraci\'on emergente de t\'ecnicas de aprendizaje autom\'atico gu\'ia la b\'usqueda y paralelizaci\'on masiva mediante la integraci\'on de computaci\'on de alto rendimiento, representando direcciones altamente promisorias. 
    
    El trabajo a futuro en esta \'area de la investigaci\'on es una necesidad, debido al requerimiento de desarrollo de algoritmos adaptativos que se ajusten din\'amicamente con estrategias de b\'usqueda seg\'un las caracter\'isticas de la instancia, la exploraci\'on de formulaciones multiobjetivo~\cite{jozefowiez2008multi} que consideren de forma simult\'anea criterios econ\'omicos, ambientales y sociales, y tambi\'en la incorporaci\'on de aspectos din\'amicos donde el problema evoluciona temporalmente requiriendo una re-optimizaci\'on continua. Tambi\'en se debe tener en consideraci\'on la validaci\'on emp\'irica de las soluciones en contextos reales de log\'istica y turismo, permaneciendo como un \'area poco explorada que permitir\'ia cerrar la brecha entre teor\'ia y pr\'actica.
    
    Como lineamientos para posibles futuras investigaciones se sugiere: 
    \begin{enumerate}
        \item Desarrollo de frameworks de aprendizaje por refuerzo que aprendan pol\'iticas de construcci\'on de soluciones a partir de instancias resultas previamente.
        \item Dise\~{n}o de algoritmos que incorporen conocimiento espec\'ifico del dominio mediante operadores de b\'usqueda local especializados.
        \item Investigaci\'on de f\'ormulas que garanticen factibilidad bajo incertidumbre param\'etrica sin incremento del costo computacional.
        \item Exploraci\'on de aplicaci\'on de t\'ecnicas de descomposici\'on que dividan el problema en subproblemas m\'as tratables, particularmente para los casos con m\'ultiples veh\'iculos.
    \end{enumerate}
    
    La integraci\'on de dichas soluciones podr\'ia generar soluciones mas eficientes para las aplicaciones pr\'acticas del EPTP.


\bibliographystyle{plain}
\bibliography{Referencias}


\end{document} 
